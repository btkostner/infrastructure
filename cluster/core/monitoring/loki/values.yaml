backend:
  replicas: 0

bloomCompactor:
  replicas: 0

bloomGateway:
  replicas: 0

compactor:
  replicas: 2
  maxUnavailable: 1

deploymentMode: Distributed

distributor:
  replicas: 2
  maxUnavailable: 1
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 4
    targetCPUUtilizationPercentage: 80
    targetMemoryUtilizationPercentage: 80

gateway:
  enabled: true
  replicas: 2
  resources:
    limits:
      cpu: 1.4
      memory: 731Mi

indexGateway:
  replicas: 2
  maxUnavailable: 1

ingester:
  replicas: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 4
    targetCPUUtilizationPercentage: 80
    targetMemoryUtilizationPercentage: 80
  zoneAwareReplication:
    enabled: false

loki:
  auth_enabled: false
  ingester:
    chunk_encoding: snappy
  schemaConfig:
    configs:
      - from: 2024-04-01
        store: tsdb
        object_store: s3
        schema: v13
        index:
          prefix: loki_index_
          period: 24h
  storage:
    type: s3
    bucketNames:
      chunks: "${CHUNKS_BUCKET_NAME}"
      ruler: "${RULER_BUCKET_NAME}"
    s3:
      endpoint: "${BUCKET_HOST}:${BUCKET_PORT}"
      secretAccessKey: "${AWS_SECRET_ACCESS_KEY}"
      accessKeyId: "${AWS_ACCESS_KEY_ID}"
      insecure: true
  tracing:
    enabled: true
  querier:
    max_concurrent: 4

minio:
  enabled: false

querier:
  replicas: 2
  maxUnavailable: 1
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 4
    targetCPUUtilizationPercentage: 80
    targetMemoryUtilizationPercentage: 80
  zoneAwareReplication:
    enabled: false

queryFrontend:
  replicas: 2
  maxUnavailable: 1
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 4
    targetCPUUtilizationPercentage: 80
    targetMemoryUtilizationPercentage: 80

queryScheduler:
  replicas: 2
  maxUnavailable: 1

read:
  replicas: 0

rollout_operator:
  enabled: false

ruler:
  enabled: true
  replicas: 2
  maxUnavailable: 1

singleBinary:
  replicas: 0

write:
  replicas: 0
